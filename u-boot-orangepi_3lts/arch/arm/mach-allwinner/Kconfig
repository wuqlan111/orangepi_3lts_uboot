if ARCH_ALLWINNER

config H6_V200
	bool "allwinner h6 family"
	select ARM64
	select ARMV8_SET_SMPEN
	select MISC
	select SUPPORT_SPL
	imply  SPL_TIMER if SPL
	imply  SPL_LOAD_FIT  if SPL
	imply  SPL_FRAMEWORK  if SPL
	imply  SPL_PRINTF  if SPL

choice
	prompt "SPL Image Type"
	default SPL_IMAGE_TYPE_ALLWINNER_EGON

config SPL_IMAGE_TYPE_ALLWINNER_EGON
	bool "eGON (normal)"
	help
	  Select this option to embed the SPL binary in an eGON.BT0 image,
	  which is compatible with the normal boot ROM (NBROM).

	  This is usually the correct option to choose.

config SPL_IMAGE_TYPE_ALLWINNER_TOC0
	bool "TOC0 (secure)"
	help
	  Select this option to embed the SPL binary in a TOC0 image,
	  which is compatible with the secure boot ROM (SBROM).

endchoice

config SPL_IMAGE_TYPE
	string
	default "sunxi_egon" if SPL_IMAGE_TYPE_ALLWINNER_EGON
	default "sunxi_toc0" if SPL_IMAGE_TYPE_ALLWINNER_TOC0

config ARM_BOOT_HOOK_RMR
	bool
	depends on ARM64
	default y
	select ENABLE_ARM_SOC_BOOT0_HOOK
	---help---
	Insert some ARM32 code at the very beginning of the U-Boot binary
	which uses an RMR register write to bring the core into AArch64 mode.
	The very first instruction acts as a switch, since it's carefully
	chosen to be a NOP in one mode and a branch in the other, so the
	code would only be executed if not already in AArch64.
	This allows both the SPL and the U-Boot proper to be entered in
	either mode and switch to AArch64 if needed.


config RESERVE_ALLWINNER_BOOT0_HEADER
	bool "reserve space for Allwinner boot0 header"
	select ENABLE_ARM_SOC_BOOT0_HOOK
	---help---
	Prepend a 1536 byte (empty) header to the U-Boot image file, to be
	filled with magic values post build. The Allwinner provided boot0
	blob relies on this information to load and execute U-Boot.
	Only needed on 64-bit Allwinner boards so far when using boot0.

config ALLWINNER_SRAM_ADDRESS
	hex
	default 0x20000
	help
		Older Allwinner SoCs have their mask boot ROM mapped just below 4GB,
		with the first SRAM region being located at address 0.
		Some newer SoCs map the boot ROM at address 0 instead and move the
		SRAM to a different address.

config SYS_SOC
	default "allwinner"

config DRAM_CLK
	int "allwinner dram clock speed"
	default 744 if H6_V200
	help
		Set the dram clock speed, valid range 240 - 480 (prior to sun9i),
		must be a multiple of 24. For the sun9i (A80), the tested values
		(for DDR3-1600) are 312 to 792.

endif
